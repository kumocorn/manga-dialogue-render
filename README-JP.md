# Obsidian Manga Dialogue Render

[English](README.md)  | [日本語](README-JP.md) 

コードブロック内に記述されたキャラクターの会話をMangaスタイルで表示するプラグインです。  
 
![alt text](<docs/Pasted image 20250213232117.png>)
- キャラクターの台詞をフキダシ内に表示します。  
- 書体や吹き出しの形を変更することができます。  
- キャラクターをリストに追加してフキダシの色をカスタムすることができます。  

漫画のプロット製作に視覚的なインスピレーションを与えることができると思います！  

ごめんなさい。これは日本語向けのプラグインです。  
横文字は既存の素晴らしいプラグインを使用してください！  


## 使用法

`serihu`コードブロック内に左右のキャラクター名を設定し、プレフィックスをつけて会話を書くだけです。  

#### Example
````
```serihu
right: 花子
left: 太郎

< キャラクター名を登録すればフキダシ色が個別に設定できます
< 通常台詞のフォントは　アンチック体が漫画っぽくてオススメ
<<:weak 情けない声とかも設定できます……
( 思考中……
(( 心の叫び！

>:pop フォントは設定画面から設定できるよ♪
>:monologue 通常台詞も丸ゴシック体にすると雰囲気が変わるんだよな……
) 真面目な考え事をする時はアンチック体が良い
>>:strong うおお⌇⌇⌇⌇⌇突然ですがこれは「気合の雄叫び」ですッ！
)):horror 好きに使ってね……

right: 一郎
> 途中でキャラクターを　入れ替えることもできるぞ！
> デフォルトのフキダシの背景色や枠線の色もカスタマイズできます

# これはコメント行になります
# １行ずつしか書けないよ！

```
````
![alt text](<docs/Pasted image 20250213232721.png>)
### プロパティ
左右のキャラクター名を指定します。  
キャラクターリストに登録された名前が指定されると、フキダシにキャラクターカラーが反映されます。  


| プロパティ  |           |
| ------ | --------- |
| left:  | 左のキャラクター名 |
| right: | 右のキャラクター名 |

Exampleにあるように、途中でキャラクターのポジションを変えることもできます。  

### プレフィックス
行の初めに入力された記号によって、その行の表示方法を決めます。  
プレフィックスの後には必ず半角スペースを入れてください。  

| プレフィックス  |          |
| --- | -------- |
| `<` | leftの台詞  |
| `>` | rightの台詞 |
| `#` | コメント     |

#### フキダシ形状
プレフィックスでフキダシの形を指定できます。  

| プレフィックス          |                |
| ----------- | -------------- |
| `<`or`>`    | 通常＿Default     |
| `<<`or `>>` | 激＿Rough        |
| `(` or`)`   | 思考＿Thought     |
| `((`or`))`  | ウニフラ＿Uni-flash |

![alt text](<docs/Pasted image 20250213234749.png>)

#### 書体
プレフィックス +`:`でタイプを指定して書体を変更することが出来ます。  
書体は設定画面から指定できます。  

デフォルトでは以下の書体が指定されています。  
プリインストールフォントではないので、ユーザーが書体をインストールするか、設定画面から書体を変更してください。  

| タイプ        | 書体               | ダウンロードリンク                                                                                                    |
| ---------- | ---------------- | ------------------------------------------------------------------------------------------------------------ |
| なし         | Shippori Antique | [Shippori Antique - Google Fonts](https://fonts.google.com/specimen/Shippori+Antique?query=Shippori+Antique) |
| :monologue | 源柔ゴシック           | [源柔ゴシック (げんじゅうゴシック) \| 自家製フォント工房](http://jikasei.me/font/genjyuu/)                                           |
| :pop       | Mochiy Pop One   | [Mochiy Pop One - Google Fonts](https://fonts.google.com/specimen/Mochiy+Pop+One)                            |
| :strong    | 源暎エムゴv2          | [【フリーフォント】源暎フォント ダウンロード - 御琥祢屋](https://okoneya.jp/font/download.html)                                       |
| :weak      | 851チカラヨワク        | [851チカラヨワク配布だす](https://pm85122.onamae.jp/851ch-yw.html)                                                     |
| :horror    | g_コミックホラー恐怖-教漢   | [g\_コミックホラー恐怖(R)-教漢版 \[よく訓練された素材屋\]](https://material.animehack.jp/font_gcomichorror.html)                   |

#####  ✍外字
半角文字は横向きになってしまうため、`!`や`?`を2つ繋げる場合はUnicodeの`‼` `⁇` `⁈` `⁉`を使用することを推奨します。  
波線を繋げる場合は`〰` or `⌇`を使用してください。  

「しっぽりアンチック」「源暎フォント」を指定している場合は以下のツールで特殊文字がコピーできます。  
[しっぽり明朝ほか 外字簡単入力ツール](https://donutland.jp/edl/shippori-copier/)  
[源暎フォント外字コピャー](https://donutland.jp/edl/genei-copier/)

## 設定

### General Settings
フキダシの見た目やフォントの設定ができます。  
Bubble Height と Comment Width は単位をつけてください。  
フォント名はFont-family名を入力してください。  

##### ✍Font-family名の確認方法
メモ帳を開いて 書式 → フォント で表示されるフォント名をコピー&ペーストすると簡単です。  

![alt text](<docs/Pasted image 20250213235635.png>)

### Character List
キャラクターリストにキャラクターを追加するとフキダシ色の指定ができます。  

プロパティで指定した名前がリストに登録されている名前と一致するとフキダシ色が変わります。  
リストではキャラクター名の変更、フキダシ色の指定、キャラクターの削除ができます。  

#### 必要なファイル
キャラクターリスト機能を利用するためには専用のcssファイルが必要となります。
1. Your Vault Name/.obsidian/plugins/manga-dialogue-render内に`skin`というフォルダーを手動で作成します。
2. `skin`フォルダー内にテンプレートファイル[_color.tpl](https://github.com/kumocorn/manga-dialogue-render/releases/download/v1.0.1/_color.tpl)を格納してください。
3. キャラクターリストにキャラクターを追加すると`color.css`が自動的に作られます。これでフキダシに色が適用されます👍️

## ありがとうございます！！
このプラグインはTypeScriptの読み書きが出来ない人間がchatGPTの力を借りて作ったものです。  
バグの修正などは対応できない場合がありますごめんなさい！  
